title: Google GEOTarget lookup
permissions: ["*"]

methods:
  get:
    title: Get GEOTarget by id or canonical name
    params:
      - name: id
        description: |-
          Search criteria:
          -   <number\> Numeric identifier.
          -   <string\> Canonical name.
        required: true
        schema:
          type: [number, string]
      - name: options
        schema:
          type: object
          properties:
            center: { type: boolean }
            bbox: { type: boolean }
            geojson: { type: boolean }
            random_coordinates: { type: boolean }
            random_point: { type: boolean }
          additionalProperties: false

  suggest-country:
    title: Suggests country
    params:
      - name: options
        required: true
        schema:
          read:
            fields:
              name: { type: string, operator: like, required: true }
            offset: false
            limit: { defaultLimit: 20, maxResults: 20 }

  suggest-city:
    title: Suggests city
    params:
      - name: options
        required: true
        schema:
          read:
            fields:
              country: { type: string, operator: "=", required: true }
              name: { type: string, operator: like, required: true }
            offset: false
            limit: { defaultLimit: 20, maxResults: 20 }
